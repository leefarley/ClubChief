
<h1>Change your password</h1>
<div class="content round">
<%= form_for(:user, @user, :url => { :action => "update_password" }) do |f| %>


  <%= f.hidden_field :user_id, :value => @user.id %>

  <label class="input-label">
    <%= f.password_field :current_password, :class => "textbox", :placeholder => "Current password" %>
  </label>
      <br />
    <label class="input-label">
        <%= f.password_field :password, :class => "textbox", :placeholder => "New password"  %>
    </label>
      <br />
    <label class="input-label">
        <%= f.password_field :password_confirmation, :class => "textbox", :placeholder => "Re-enter new password"  %>
     </label>

  <div class="actions">
    <%= f.submit "Change password", :class => "button edit_wide_btn" %>
  </div><br/>
<% end %>
<%= link_to 'Back', @user, :class => "button login_btn" , :style => "margin-top: 0;"%>
</div>

<script type="text/javascript">
   $(function(){
       $("#user_current_password").validate({
            expression: "if (VAL.length > 5 && VAL) return true; else return false;",
            message: "Please enter your current password",
            error_field_class: "field_with_errors",
            error_class: "error_message"
        });
        $("#user_password").validate({
            expression: "if (VAL.length > 5 && VAL) return true; else return false;",
            message: "password must be greater than 5 characters",
            error_field_class: "field_with_errors",
            error_class: "error_message"
        });
        $("#user_password_confirmation").validate({
            expression: "if ((VAL == jQuery('#user_password').val()) && VAL) return true; else return false;",
            message: "Confirm password doesn't match",
            error_field_class: "field_with_errors",
            error_class: "error_message"
        });
	});
  </script>